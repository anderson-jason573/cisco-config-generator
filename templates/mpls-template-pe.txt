hostname {{ data.cisco.hostname }}
!
{% for vrf in data.cisco.vrf %}
vrf definition {{ vrf }}
{% endfor %}
 rd {{ data.cisco.bgp-asn }}:1
 route-target both {{ data.cisco.vrf }}
 !
 address-family ipv4
 exit-address-family
! 
!
interface Loopback0
 ip address {{ data.cisco.loopback0_ip_address }} 255.255.255.255
 ip router isis 
!
interface GigabitEthernet1
 ip address {{ data.cisco.mgmt_ip_address }}
 negotiation auto
 no mop enabled
 no mop sysid
!
interface GigabitEthernet2
 ip address {{ data.cisco.core_ip_address }}
 ip router isis 
 negotiation auto
 mpls ip
 no mop enabled
 no mop sysid
!
interface GigabitEthernet3
 vrf {{ data.cisco.g3_vrf }}
 ip address {{ data.cisco.g3_ip_address }}
 negotiation auto
 no mop enabled
 no mop sysid
!
router isis
 net 49.0001.0000.0000.0001.00
 metric-style wide
!
router bgp 3209
 bgp log-neighbor-changes
 neighbor 172.16.0.2 remote-as 3209
 neighbor 172.16.0.2 update-source Loopback0
 !
 address-family vpnv4
  neighbor 172.16.0.2 activate
  neighbor 172.16.0.2 send-community extended
 exit-address-family
 !
 address-family ipv4 vrf sp-mpls-a
  redistribute connected
 exit-address-family
!